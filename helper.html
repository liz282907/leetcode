<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>leetcode调试</title>
</head>
<body>

<!--<script src="./build/main.js"> -->

    <script>
    //-2  -1 0 0 1 2
    // var nums = [1,0,-1,0,-2,2]; [0,0,0,0]
    var target =32;
    // var nums = [-2,1,-3,4,-1,2,1,-5,4];
    var nums = [-1];
var maxSubArray = function(nums) {
    var curArr = [],lastSum = 0,resultArr = [];
    for(var i=0;i<nums.length;i++){
        if(lastSum>=0) {
            curArr.push(nums[i]);
            lastSum+= nums[i];
            resultArr[i]= [].concat(curArr);
        }
        else{
            curArr = [nums[i]];
            lastSum = nums[i];
            resultArr[i] = curArr;
        }
    }
    var result = Number.NEGATIVE_INFINITY;
    for(i=0;i<nums.length;i++){
        console.log("-----------",resultArr[i]);
        var temp = resultArr[i].reduce(function(prev,cur){return prev+=cur;},0);
        if(result < temp) result = temp;
    }
    return result;

};

var longestPalindrome = function(s) {
    var arr = s.split('');
    var result = s[0];
    for(var i=0;i<s.length;i++){
        var getResult = true;
        var j = arr.lastIndexOf(arr[i]);
        if(j===i) continue;
        var tempI = i,tempJ = j;

        while(tempI<=tempJ){
            if(arr[tempI]!==arr[tempJ]) {getResult = false;break;}
            else{
                tempI++;
                tempJ--;
            }
        }
        if(!getResult) continue;
        if(s.slice(i,j+1).length>result.length) result = s.slice(i,j+1);
    }
    return result;
};

// longestPalindrome('aaabaaaa');
var maxProduct = function(nums) {
    var maxArr = [nums[0]];
    var minArr = [nums[0]];
    for(var i=1;i<nums.length;i++){
        // var lastMax = maxSoFar,lastMin = minSoFar;
        maxArr[i] = Math.max(
            maxArr[i-1]*nums[i],
            nums[i],
            minArr[i-1]*nums[i]
        );
        minArr[i] = Math.min(
            maxArr[i-1]*nums[i],
            nums[i],
            minArr[i-1]*nums[i]
        );
    }

    return maxArr[nums.length-1];
};

// maxProduct([-4,-3,-2]);

var lengthOfLIS = function(nums) {

    if(!nums.length) return 0;
    var LISArr = [[nums[0]]];
    var maxLength = 1;
    for(var i=1;i<nums.length;i++){

        var prevArr = LISArr[i-1];
        if(nums[i]<prevArr[0])
            LISArr[i] = [nums[i]]
        else{
            LISArr[i] = bisectInsert(LISArr[i-1],nums[i]);
        }
        maxLength = Math.max(maxLength,LISArr[i].length);

    }
    return maxLength;

    function bisectInsert(arr,val){
        var i=0,j = arr.length;
        while(i<j){
            mid = Math.floor((i+j)/2);
            if(arr[mid]<val) i = mid+1;
            else j = mid;
        }

        //while(arr[i]===val) i++;//如果有重复元素，找到第一个大于它的。插入。
        return arr.slice(0,i).concat(val);
    }

};

lengthOfLIS([1,3,6,7,9,4,10,5,6]);




// maxSubArray(nums);
/***********************************************/
/*
var permute = function(nums) {
    var result = [];
    nums.sort(function(a,b){ return a-b});

    nextPermutation(nums,result);
    return result;

};


var nextPermutation = function(nums,result) {

    var i=nums.length-1,j = i;
    //降序排列的数组，左边一个数字即为要更改的部分。
    while(nums[i-1]>=nums[i]) i--;
    var baseIndex = i-1;

    //对右边排序。降序数组变为升序排列，用左右夹逼交换即可。
    while(i<j && i>=0){
        swap.call(nums,i,j);
        i++;
        j--;
    }

    //排序后找到第一个比baseIndex大的进行交换。交换需要注意baseIndex是否是数组以内的
    if(baseIndex>=0){
        i= baseIndex+1;
        while(nums[i]<=nums[baseIndex])
            i++;
        swap.call(nums,i,baseIndex);

        var curResult = [].concat(nums);
        result.push(curResult);
        nextPermutation(nums,result);
    }else return;



};


function swap(i,j){
    var temp;
    temp = this[j];
    this[j] = this[i];
    this[i] = temp;
    return this;
}

var arr = [1,2,3];
permute(arr);

*/
</script>
</body>
</html>